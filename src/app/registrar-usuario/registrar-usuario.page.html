<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/iniciar-sesion" style="color: white;"></ion-back-button>
    </ion-buttons>
    <ion-title>Registrar Usuario</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form class="form-control" (submit)="register($event)">
    <p class="title">Regístrate</p>

    <!-- Nombre Completo -->
    <div class="input-field">
      <input required class="input" type="text" id="fullName" />
      <label class="label" for="fullName">Escribe tu Nombre</label>
    </div>

    <!-- RUT con formato automático -->
    <div class="input-field">
      <input required class="input" type="text" id="rut"
             (input)="formatRUT($event)"
             maxlength="12" />
      <label class="label" for="rut">Escribe tu RUT</label>
    </div>

    <!-- Correo -->
    <div class="input-field">
      <input required class="input" type="email" id="email"
             pattern="^[a-zA-Z0-9._%+-]+@xtrememining\.cl$"/>
      <label class="label" for="email">Email (solo &#64;xtrememining.cl)</label>

    </div>

    <!-- Teléfono con +569 fijo -->
    <div class="input-field">
      <div style="display: flex; align-items: center;">
        <input class="input" type="text" value="+569" disabled style="width: 60px;" />
        <input required class="input" type="tel" id="phone"
               (input)="formatPhone($event)"
               maxlength="8" pattern="^\d{8}$"
               placeholder="Ej: 48096007" style="flex: 1;" />
      </div>
      <label class="label" for="phone"></label>
    </div>

    <!-- Rol -->
    <div class="input-field">
      <select id="role" class="input" required>
        <option value="cotizador">Generador de solped</option>
        <option value="cotizador">Cotizador</option>
        <option value="admin">Admin</option>
      </select>
      <label class="label" for="role">Selecciona tu Rol</label>
    </div>

    <!-- Contraseña con restricción -->
    <div class="input-field">
      <input required class="input" type="password" id="password"
             maxlength="10" minlength="5"
             pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{5,10}$"
             placeholder="Mín 5 - Máx 10 caracteres" />
      <label class="label" for="password"></label>
    </div>

    <button type="submit" class="submit-btn">Registrar</button>
  </form>
</ion-content>



